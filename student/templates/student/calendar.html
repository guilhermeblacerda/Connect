<!DOCTYPE html>
<html lang='en'>

    {% load static %}

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Agenda de {{ request.user.username }}</title>

    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js'></script>
    <script src='fullcalendar/core/locales/pt-br.global.js'></script>
    <script id ='events_data' type="application/json">
      {{ eventos|safe }}
    </script>

    <script>

      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var eventos = JSON.parse(document.getElementById('events_data').textContent);
        var calendar = new FullCalendar.Calendar(calendarEl, {
          locale: 'pt-br',
          initialView: 'dayGridMonth',
          aspectRatio: 2.5,
          events: eventos,

        });
        calendar.render();
      });

    </script>
  </head>
  <body>

    <a id="return" class = 'links' href="{% url 'home' %}">&larr;</a>

    <div class="user_data">
      <img src="https://placehold.co/128x128" alt="Foto do usuario">

      <h1 name="calendar">Agenda</h1>

      <p>{{ request.user.username }}</p>
    </div>

      <div id='calendar'></div>

    <footer>

      <div id="teste">

      </div>

    </footer>

  </body>
</html>